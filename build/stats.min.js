(function(e,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):(e=e||self,e.Stats=d())})(this,function(){var e={fps:{fg:"#0ff",bg:"#002"},ms:{fg:"#1f0",bg:"#020"},mb:{fg:"#f08",bg:"#201"}},d=function(b){function p(f){a.appendChild(f.dom);return f}function r(f){for(var b=0;b<a.children.length;b++)a.children[b].style.display=b===f?"block":"none";l=f}b=b?b:e;for(var g in e){b[g]||(b[g]=e[g]);for(var q in e[g])b[g][q]||(b[g][q]=
e[g][q])}var l=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";a.addEventListener("click",function(b){b.preventDefault();r(++l%a.children.length)},!1);var m=(performance||Date).now(),h=m,u=0,w=p(new d.Panel("FPS",b.fps.fg,b.fps.bg)),n=p(new d.Panel("MS",b.ms.fg,b.ms.bg));if(self.performance&&self.performance.memory)var k=p(new d.Panel("MB",b.mb.fg,b.mb.bg));r(0);return{REVISION:16,dom:a,addPanel:p,showPanel:r,begin:function(){m=
(performance||Date).now()},end:function(){u++;var a=(performance||Date).now();n.update(a-m,200);if(a>=h+1E3&&(w.update(1E3*u/(a-h),100),h=a,u=0,k)){var b=performance.memory;k.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return a},update:function(){m=this.end()},domElement:a,setMode:r}};d.Panel=function(b,e,d){var g=Infinity,q=0,l=Math.round,a=l(window.devicePixelRatio||1),m=80*a,h=48*a,u=3*a,p=2*a,n=3*a,k=15*a,f=74*a,t=30*a,v=document.createElement("canvas");v.width=m;v.height=h;v.style.cssText=
"width:80px;height:48px";var c=v.getContext("2d");c.font="bold "+9*a+"px Helvetica,Arial,sans-serif";c.textBaseline="top";c.fillStyle=d;c.fillRect(0,0,m,h);c.fillStyle=e;c.fillText(b,u,p);c.fillRect(n,k,f,t);c.fillStyle=d;c.globalAlpha=.9;c.fillRect(n,k,f,t);return{dom:v,update:function(h,r){g=Math.min(g,h);q=Math.max(q,h);c.fillStyle=d;c.globalAlpha=1;c.fillRect(0,0,m,k);c.fillStyle=e;c.fillText(l(h)+" "+b+" ("+l(g)+"-"+l(q)+")",u,p);c.drawImage(v,n+a,k,f-a,t,n,k,f-a,t);c.fillRect(n+f-a,k,a,t);c.fillStyle=
d;c.globalAlpha=.9;c.fillRect(n+f-a,k,a,l((1-h/r)*t))}}};return d});
